<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
  </head>
  <body>
    <script>
      var playerPoints = 0;
      var computerPoints = 0;

      function computerPlay() {
        var value = Math.floor(Math.random() * 3);

        switch (value) {
          case 0:
            return 'rock';
          case 1:
            return 'papper';
          case 2:
            return 'scissor';
        }
      }

      function playRound(playerSelection, computerSelection){
        if(playerSelection === computerSelection){
          return `Draw! Both choose ${computerSelection}!`;
        } else if(   playerSelection === 'rock' && computerSelection === 'scissor'
          || playerSelection === 'papper' && computerSelection === 'rock'
          || playerSelection === 'scissor' && computerSelection === 'papper') {
          playerPoints++;

          return `You win! ${playerSelection.toLowerCase()} beats ${computerSelection}!`;
        } else {
          computerPoints++;

          return `You lose! ${computerSelection} beats ${playerSelection.toLowerCase()}!`;
        }
      }

      function game() {
        playerPoints = 0;
        computerPoints = 0;

        var i = 0;

        do {
          var playerSelection = prompt("Your turn").toLowerCase();
          var computerSelection = computerPlay();

          console.log(playRound(playerSelection, computerSelection));

          i++;
        }
        while (i < 5);

        if(playerPoints === computerPoints){
          message = "Draw!";
        } else if(playerPoints > computerPoints){
          message = "You win the battle!";
        } else {
          message = "You lost the battle!";
        }

        console.log(`End of the game!!! ${message} Your points ${playerPoints} x ${computerPoints} Computer Points`);
      }
    </script>
  </body>
</html>
